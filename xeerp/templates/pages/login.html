{% extends "templates/web.html" %}

{% block title %}{{ _("Login") }}{% endblock %}

{% block page_content %}
<div class="custom-login-container">
	<div class="login-content">
		<div class="login-box">
			<!-- Logo Section -->
			<div class="login-logo-section">
				<img src="/assets/xeerp/images/xeerp-logo.svg" alt="XeERP Logo" class="login-logo" onerror="this.style.display='none'">
				<h1 class="login-title">{{ _("Welcome to XeERP") }}</h1>
				<p class="login-subtitle">{{ _("Powerful ERP Solutions for Modern Business") }}</p>
			</div>

			<!-- Login Form -->
			<form id="custom-login-form" class="login-form">
				<div class="form-message" id="login-message" style="display: none;"></div>

				<!-- Username/Email Field -->
				<div class="form-group">
					<label for="login_email" class="form-label">
						<span class="label-icon">
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
								<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
								<circle cx="12" cy="7" r="4"></circle>
							</svg>
						</span>
						{{ _("Email or Username") }}
					</label>
					<input
						type="text"
						id="login_email"
						name="usr"
						class="form-control"
						placeholder="{{ _('Enter your email or username') }}"
						required
						autocomplete="username"
						autofocus>
				</div>

				<!-- Password Field -->
				<div class="form-group">
					<label for="login_password" class="form-label">
						<span class="label-icon">
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
								<rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
								<path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
							</svg>
						</span>
						{{ _("Password") }}
					</label>
					<div class="password-input-wrapper">
						<input
							type="password"
							id="login_password"
							name="pwd"
							class="form-control"
							placeholder="{{ _('Enter your password') }}"
							required
							autocomplete="current-password">
						<button type="button" class="password-toggle" id="toggle-password" aria-label="Toggle password visibility">
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="eye-icon">
								<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
								<circle cx="12" cy="12" r="3"></circle>
							</svg>
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="eye-off-icon" style="display: none;">
								<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
								<line x1="1" y1="1" x2="23" y2="23"></line>
							</svg>
						</button>
					</div>
				</div>

				<!-- Remember Me & Forgot Password -->
				<div class="form-options">
					<div class="remember-me">
						<input type="checkbox" id="remember_me" name="remember_me">
						<label for="remember_me">{{ _("Remember me") }}</label>
					</div>
					<a href="/forgot-password" class="forgot-password-link">{{ _("Forgot Password?") }}</a>
				</div>

				<!-- Login Button -->
				<button type="submit" class="btn-login" id="login-button">
					<span class="button-text">{{ _("Sign In") }}</span>
					<span class="button-loader" style="display: none;">
						<svg class="spinner" viewBox="0 0 50 50">
							<circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
						</svg>
					</span>
				</button>
			</form>

			<!-- Footer Links -->
			<div class="login-footer">
				{% if allow_signups %}
				<p class="signup-text">
					{{ _("Don't have an account?") }}
					<a href="/signup" class="signup-link">{{ _("Sign Up") }}</a>
				</p>
				{% endif %}

				<!-- XenonLabs Branding Footer -->
				<div class="xenonlabs-footer">
					<p class="powered-by">
						{{ _("Powered by") }}
						<a href="https://xenonlabs.ai" target="_blank" rel="noopener noreferrer" class="xenonlabs-link">
							<strong>XenonLabs</strong>
						</a>
					</p>
					<p class="copyright">
						Â© {{ current_year }} XeERP. {{ _("All rights reserved.") }}
					</p>
				</div>
			</div>
		</div>

		<!-- Side Panel with Info -->
		<div class="login-side-panel">
			<div class="side-panel-content">
				<h2 class="side-panel-title">{{ _("XeERP") }}</h2>
				<p class="side-panel-text">{{ _("Comprehensive business management solution designed to streamline your operations and drive growth.") }}</p>
				<div class="feature-list">
					<div class="feature-item">
						<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
							<polyline points="20 6 9 17 4 12"></polyline>
						</svg>
						<span>{{ _("Real-time Business Insights") }}</span>
					</div>
					<div class="feature-item">
						<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
							<polyline points="20 6 9 17 4 12"></polyline>
						</svg>
						<span>{{ _("Enterprise-Grade Security") }}</span>
					</div>
					<div class="feature-item">
						<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
							<polyline points="20 6 9 17 4 12"></polyline>
						</svg>
						<span>{{ _("Seamless Integration") }}</span>
					</div>
					<div class="feature-item">
						<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
							<polyline points="20 6 9 17 4 12"></polyline>
						</svg>
						<span>{{ _("Scalable & Flexible") }}</span>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Custom Login Script will be loaded via hooks -->
{% endblock %}